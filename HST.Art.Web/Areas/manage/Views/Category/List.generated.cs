#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 6 "..\..\Areas\manage\Views\Category\List.cshtml"
    using HST.Art.Core;
    
    #line default
    #line hidden
    
    #line 5 "..\..\Areas\manage\Views\Category\List.cshtml"
    using HST.Art.Web;
    
    #line default
    #line hidden
    
    #line 7 "..\..\Areas\manage\Views\Category\List.cshtml"
    using HST.Utillity;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/manage/Views/Category/List.cshtml")]
    public partial class _Areas_manage_Views_Category_List_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_manage_Views_Category_List_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\manage\Views\Category\List.cshtml"
  
    Layout = null;

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

WriteLiteral("\r\n");

            
            #line 9 "..\..\Areas\manage\Views\Category\List.cshtml"
Write(Scripts.Render("~/bundles/saos"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 10 "..\..\Areas\manage\Views\Category\List.cshtml"
Write(Scripts.Render("~/bundles/ajaxAsync"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 11 "..\..\Areas\manage\Views\Category\List.cshtml"
Write(Scripts.Render("~/bundles/validate"));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 12 "..\..\Areas\manage\Views\Category\List.cshtml"
Write(Styles.Render("~/appcss"));

            
            #line default
            #line hidden
WriteLiteral("\r\n<nav");

WriteLiteral(" class=\"breadcrumb\"");

WriteLiteral("><i");

WriteLiteral(" class=\"Hui-iconfont\"");

WriteLiteral(">&#xe67f;</i> 首页 <span");

WriteLiteral(" class=\"c-gray en\"");

WriteLiteral(">&gt;</span><a");

WriteLiteral(" href=\"javascript:void(0)\"");

WriteLiteral(" onclick=\"layer_close()\"");

WriteLiteral(">类别设置</a><span");

WriteLiteral(" class=\"c-gray en\"");

WriteLiteral(">&gt;</span><a");

WriteLiteral(" href=\"javascript:void(0)\"");

WriteLiteral(" onclick=\"location.reload()\"");

WriteLiteral(">大类管理</a> </nav>\r\n<article");

WriteLiteral(" class=\"page-container\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"cl search-wrap\"");

WriteLiteral(" style=\"padding-bottom:10px;\"");

WriteLiteral(">\r\n        <button");

WriteLiteral(" name=\"search\"");

WriteLiteral(" class=\"btn btn-primary  float-right\"");

WriteLiteral(" type=\"button\"");

WriteLiteral(" id=\"btn_add\"");

WriteLiteral(">添加类别</button>\r\n        <span");

WriteLiteral(" class=\"help-block help-tip  \"");

WriteLiteral(" style=\"font-size:13px\"");

WriteLiteral(">添加和编辑类别将在表格中完成，便于您对类别的维护</span>\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"margin-top:-10px\"");

WriteLiteral(">\r\n        <table");

WriteLiteral(" id=\"tbTableP\"");

WriteLiteral(" class=\"table table-border table-bordered table-bg table-sort\"");

WriteLiteral(">\r\n            <thead>\r\n                <tr");

WriteLiteral(" class=\"text-c\"");

WriteLiteral(">\r\n                    <th");

WriteLiteral(" width=\"8%\"");

WriteLiteral(">序号</th>\r\n                    <th>类别名称</th>\r\n                    <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">状态</th>\r\n                    <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">创建时间</th>\r\n                    <th");

WriteLiteral(" width=\"10%\"");

WriteLiteral(">创建人</th>\r\n                    <th");

WriteLiteral(" width=\"15%\"");

WriteLiteral(">操作</th>\r\n                </tr>\r\n            </thead>\r\n        </table>\r\n    </di" +
"v>\r\n    <div");

WriteLiteral(" class=\"hidden\"");

WriteLiteral(">\r\n        <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"categoryType\"");

WriteAttribute("value", Tuple.Create(" value=\"", 1418), Tuple.Create("\"", 1451)
            
            #line 34 "..\..\Areas\manage\Views\Category\List.cshtml"
, Tuple.Create(Tuple.Create("", 1426), Tuple.Create<System.Object, System.Int32>(CategoryType.Examination
            
            #line default
            #line hidden
, 1426), false)
);

WriteLiteral(" />\r\n        <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"categoryId\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(" />\r\n        <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" id=\"categoryParentId\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(" />\r\n        <table");

WriteLiteral(" id=\"tableCategory2\"");

WriteLiteral(">\r\n            <tr");

WriteLiteral(" class=\"text-c bg-warning\"");

WriteLiteral(">\r\n                <td>1</td>\r\n                <td");

WriteLiteral(" colspan=\"5\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" data-bind=\"category-form\"");

WriteLiteral(" class=\"row\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" class=\"formControls col-xs-4 \"");

WriteLiteral(">\r\n                            <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"input-text \"");

WriteLiteral(" autocomplete=\"off\"");

WriteLiteral(" value=\"\"");

WriteLiteral(" onfocus=\"clearError(this)\"");

WriteLiteral(" placeholder=\"请输入类别名\"");

WriteLiteral(" name=\"CategoryName\"");

WriteLiteral(" />\r\n                            <label");

WriteLiteral(" class=\"error hidden\"");

WriteLiteral(">请输入类别名</label>\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"formControls col-xs-4 hidden\"");

WriteLiteral(" data-bind=\"btn-add\"");

WriteLiteral(">\r\n                            <button");

WriteLiteral(" class=\"btn btn-primary radius btn-xs float-left\"");

WriteAttribute("onclick", Tuple.Create(" onclick=\"", 2294), Tuple.Create("\"", 2338)
, Tuple.Create(Tuple.Create("", 2304), Tuple.Create("subForm(this,\'", 2304), true)
            
            #line 47 "..\..\Areas\manage\Views\Category\List.cshtml"
                            , Tuple.Create(Tuple.Create("", 2318), Tuple.Create<System.Object, System.Int32>(Url.Action("Add")
            
            #line default
            #line hidden
, 2318), false)
, Tuple.Create(Tuple.Create("", 2336), Tuple.Create("\')", 2336), true)
);

WriteLiteral(">保存</button>\r\n                            <button");

WriteLiteral(" class=\"btn btn-default radius btn-xs float-left\"");

WriteLiteral(" onclick=\"removeParent(this)\"");

WriteLiteral(">取消</button>\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"formControls col-xs-4 hidden\"");

WriteLiteral(" data-bind=\"btn-edit\"");

WriteLiteral(">\r\n                            <button");

WriteLiteral(" class=\"btn btn-primary radius btn-xs float-left\"");

WriteAttribute("onclick", Tuple.Create(" onclick=\"", 2685), Tuple.Create("\"", 2730)
, Tuple.Create(Tuple.Create("", 2695), Tuple.Create("subForm(this,\'", 2695), true)
            
            #line 51 "..\..\Areas\manage\Views\Category\List.cshtml"
                            , Tuple.Create(Tuple.Create("", 2709), Tuple.Create<System.Object, System.Int32>(Url.Action("Edit")
            
            #line default
            #line hidden
, 2709), false)
, Tuple.Create(Tuple.Create("", 2728), Tuple.Create("\')", 2728), true)
);

WriteLiteral(">保存</button>\r\n                            <button");

WriteLiteral(" class=\"btn btn-default radius btn-xs float-left\"");

WriteLiteral(" onclick=\"cancelEdit(this)\"");

WriteLiteral(">取消</button>\r\n                        </div>\r\n                    </div>\r\n       " +
"         </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</article>\r\n\r\n");

            
            #line 61 "..\..\Areas\manage\Views\Category\List.cshtml"
Write(Scripts.Render("~/bundles/datatable"));

            
            #line default
            #line hidden
WriteLiteral("\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    var tempTr2;\r\n    var table2 = null;\r\n    $(function () {\r\n        table2 " +
"= initializeTable();\r\n\r\n        $(\"#btn_add\").click(function () {\r\n            $" +
"(\"#categoryId,#categoryParentId\").val(0);\r\n            if ($(\"#tbTableP div[data" +
"-bind=category-form]\").length > 0) {\r\n                $(\"#tbTableP input[name=Ca" +
"tegoryName]\").focus();\r\n                top.layer.alert(\"当前有未编辑完的项目，请操作完成后再进行添加\"" +
", 3);\r\n                return false;\r\n            }\r\n\r\n            $(\"#tableCate" +
"gory2 div[data-bind=btn-add]\").removeClass(\"hidden\");\r\n            $(\"#tableCate" +
"gory2 div[data-bind=btn-edit]\").addClass(\"hidden\");\r\n            var trCount = $" +
"(\"#tbTableP tbody tr\").length + 1;\r\n            $(\"#tableCategory2\").find(\"td:fi" +
"rst\").html(trCount);\r\n            $(\"#tbTableP tbody\").append($(\"#tableCategory2" +
" tbody\").html());\r\n        })\r\n\r\n        //测试数据\r\n        $(\"#btnTest\").click(fun" +
"ction () {\r\n            parent[pageIndex()].reloadParCategory();\r\n        })\r\n  " +
"  });\r\n\r\n\r\n    function category_deit(obj, id, parentId) {\r\n        if ($(\"#tbTa" +
"bleP div[data-bind=category-form]\").length > 0) {\r\n            $(\"#tbTableP inpu" +
"t[name=CategoryName]\").focus();\r\n            top.layer.alert(\"当前有未编辑完的项目，请操作完成后再" +
"进行添加\", 3);\r\n            return false;\r\n        }\r\n\r\n        $(\"#categoryId\").val" +
"(id);\r\n        $(\"#categoryParentId\").val(parentId);\r\n        var categroyVal = " +
"$(obj).attr(\"data-bind\");\r\n        $(\"#tableCategory2 div[data-bind=btn-add]\").a" +
"ddClass(\"hidden\");\r\n        $(\"#tableCategory2 div[data-bind=btn-edit]\").removeC" +
"lass(\"hidden\");\r\n        var trCount = $(obj).parents(\"tr\").find(\"td:first\").htm" +
"l();\r\n        $(\"#tableCategory2\").find(\"td:first\").html(trCount);\r\n        temp" +
"Tr2 = $(obj).parents(\"tr\").html();\r\n        $(obj).parents(\"tr\").addClass(\"bg-wa" +
"rning\").empty().html($(\"#tableCategory2 tbody tr:first\").html());\r\n\r\n        $(\"" +
"#tbTableP\").find(\"input[name=CategoryName]\").val(categroyVal);\r\n    }\r\n\r\n    fun" +
"ction clearError(obj) {\r\n        $(obj).removeClass(\"error\").siblings().addClass" +
"(\"hidden\");\r\n    }\r\n    function cancelEdit(obj) {\r\n        $(obj).parents(\"tr\")" +
".empty().html(tempTr2).removeClass(\"bg-warning\");\r\n    }\r\n\r\n    function removeP" +
"arent(obj) {\r\n        $(obj).parents(\"tr\").remove();\r\n    }\r\n\r\n    function subF" +
"orm(obj, url) {\r\n        if ($(\"#tbTableP input[name=CategoryName]\").val().lengt" +
"h <= 0) {\r\n            $(\"#tbTableP input[name=CategoryName]\").siblings(\"label\")" +
".removeClass(\"hidden\");\r\n            $(\"#tbTableP input[name=CategoryName]\").add" +
"Class(\"error\");\r\n            return false;\r\n        }\r\n\r\n        $.ajax({\r\n     " +
"       url: url,\r\n            type: \"Post\",\r\n            data: { \"CategoryName\":" +
" $(\"#tbTableP input[name=CategoryName]\").val(), \"CategoryType\": $(\"#categoryType" +
"\").val(), \"Id\": $(\"#categoryId\").val(), ParentId: $(\"#categoryParentId\").val() }" +
",\r\n            dataType: \"json\",\r\n            success: function (data) {\r\n      " +
"          if (data.isSuccess) {\r\n                    layer.msg(\"操作成功\");\r\n       " +
"             table2.ajax.reload();\r\n                    parent[pageIndex()].relo" +
"adParCategory();\r\n                } else {\r\n                    top.layer.alert(" +
"data.message, 3);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fu" +
"nction initializeTable() {\r\n        var dataTable = $(\'#tbTableP\').DataTable({\r\n" +
"            \"serverSide\": true,\r\n            \"ajax\": {\r\n                \"url\": \"" +
"");

            
            #line 149 "..\..\Areas\manage\Views\Category\List.cshtml"
                   Write(Url.Action("GetJsonData"));

            
            #line default
            #line hidden
WriteLiteral("\",\r\n                \"type\": \"post\",\r\n                \"data\": function (data) {\r\n " +
"                   data.pageIndex = (data.start / data.length) + 1;\r\n           " +
"         data.categoryType = $(\"#categoryType\").val();\r\n                    data" +
".isParent = true;\r\n                }\r\n            },\r\n            \"columns\": [\r\n" +
"                { \"defaultContent\": \"\" },\r\n                { \"mDataProp\": \"Categ" +
"oryName\" },\r\n                 { \"mDataProp\": \"State\" },\r\n                { \"mDat" +
"aProp\": \"CreateTime\" },\r\n                 { \"mDataProp\": \"UserName\" },\r\n        " +
"        { \"defaultContent\": \"\" }\r\n            ],\r\n            \"columnDefs\": [\r\n " +
"            {\r\n                 \"targets\": [2],\r\n                 \"data\": \"State" +
"\",\r\n                 \"render\": function (data, type, full) {\r\n                  " +
"   var result = data;\r\n                     if (data > 0) {\r\n                   " +
"      result = \"<span class=\\\"label label-success radius\\\">已上架</span>\";\r\n       " +
"              } else {\r\n                         result = \"<span class=\\\"label l" +
"abel-danger radius\\\">已下架</span>\";\r\n                     }\r\n\r\n                   " +
"  return result;\r\n                 }\r\n             },\r\n            {\r\n          " +
"      \"targets\": [-1],\r\n                \"data\": \"Id\",\r\n                \"render\":" +
" function (data, type, full) {\r\n                    var tmpString = \"<a data-bin" +
"d=\'\" + full.CategoryName + \"\'  onClick=\\\"category_deit(this,\" + data + \",\" + ful" +
"l.ParentId + \")\\\" href=\\\"javascript:;\\\" title=\\\"编辑\\\">编辑</a>\";\r\n                 " +
"   if (full.State == 0)\r\n                        tmpString += \"<a href=\\\"javascr" +
"ipt:;\\\" onClick=\\\"category_publish(\'");

            
            #line 186 "..\..\Areas\manage\Views\Category\List.cshtml"
                                                                                      Write(Url.Action("Publish"));

            
            #line default
            #line hidden
WriteLiteral("\',\" + data + \")\\\"  title=\\\"上架\\\">上架</a>\";\r\n                    else\r\n             " +
"           tmpString += \"<a href=\\\"javascript:;\\\" onClick=\\\"category_shelves(\'");

            
            #line 188 "..\..\Areas\manage\Views\Category\List.cshtml"
                                                                                      Write(Url.Action("Shelves"));

            
            #line default
            #line hidden
WriteLiteral("\',\" + data + \")\\\"  title=\\\"下架\\\">下架</a>\";\r\n                    tmpString += \"<a hr" +
"ef=\\\"javascript:;\\\" onClick=\\\"category_del(\'类别\',\'");

            
            #line 189 "..\..\Areas\manage\Views\Category\List.cshtml"
                                                                                   Write(Url.Action("Delete"));

            
            #line default
            #line hidden
WriteLiteral("\',\" + data + \")\\\"  title=\\\"删除\\\">删除</a>\";\r\n\r\n                    return tmpString;" +
"\r\n                }\r\n            }\r\n            ],\r\n            \"fnDrawCallback\"" +
": function () {\r\n                var api = this.api();\r\n                var star" +
"tIndex = api.context[0]._iDisplayStart;\r\n                api.column(0).nodes().e" +
"ach(function (cell, i) {\r\n                    cell.innerHTML = startIndex + i + " +
"1;\r\n                });\r\n            },\r\n            \"rowCallback\": function (ro" +
"w, data, displayIndex) {\r\n                $(row).attr(\"class\", \"text-c\").attr(\"d" +
"ata-bind\", data.Id);\r\n                $(row).children(\'td\').eq(2).attr(\"class\", " +
"\"td-status\");\r\n                $(row).children(\'td\').eq(5).attr(\"class\", \"td-man" +
"age\");\r\n            },\r\n            \"initComplete\": function (settings, json) {\r" +
"\n            },\r\n            language: {\r\n                lengthMenu: \'\',\r\n     " +
"           loadingRecords: \'数据加载中...\',\r\n                paginate: {\r\n           " +
"         previous: \"上一页\",\r\n                    next: \"下一页\",\r\n                   " +
" first: \"\",\r\n                    last: \"\"\r\n                },\r\n                z" +
"eroRecords: \"暂无数据\",\r\n\r\n                info: \"<span class=\'pagesStyle\'>总共<span c" +
"lass=\'recordsStyle\'> _TOTAL_ 条,计 _PAGES_ </span>页，当前显示 _START_ -- _END_ 条记录 </sp" +
"an>\",\r\n                infoEmpty: \"0条记录\",\r\n                infoFiltered: \"\"\r\n   " +
"         },\r\n            \"searching\": false,\r\n            \"ordering\": false,\r\n  " +
"          \"autoWidth\": false,\r\n            \"iDisplayLength\": 50,\r\n            \"p" +
"rocessing\": true,\r\n            //destroy: true, //Cannot reinitialise DataTable," +
"解决重新加载表格内容问题\r\n\r\n        });\r\n\r\n        return dataTable;\r\n    }\r\n\r\n    /*删除*/\r\n " +
"   function category_del(title, action, id) {\r\n        top.layer.confirm(\'确认要删除该" +
"\' + title + \'吗？\', function (e) {\r\n            $.ajax({\r\n                url: act" +
"ion,\r\n                type: \"post\",\r\n                data: { id: id },\r\n        " +
"        success: function (data) {\r\n                    if (data.isSuccess) {\r\n " +
"                       var index = top.layer.alert(\'操作成功！\', {\r\n                 " +
"           icon: 6,\r\n                            closeBtn: 0,\r\n                 " +
"           yes: function () {\r\n                                table2.ajax.reloa" +
"d();\r\n                                parent[pageIndex()].reloadParCategory();\r\n" +
"                                top.layer.close(index);\r\n                       " +
"     }\r\n                        });\r\n                    } else {\r\n             " +
"           top.layer.alert(\'操作失败！\', { icon: 5 });\r\n                    }\r\n      " +
"          },\r\n                error: function (data) { top.layer.alert(\'操作失败！\', " +
"{ icon: 5 }); }\r\n            })\r\n        });\r\n    }\r\n\r\n\r\n    /*上架*/\r\n    functio" +
"n category_publish(action, id) {\r\n        top.layer.confirm(\'确认要上架吗？\', function " +
"(e) {\r\n            $.ajax({\r\n                url: action,\r\n                type:" +
" \"post\",\r\n                data: { id: id },\r\n                success: function (" +
"data) {\r\n                    if (data.isSuccess) {\r\n                        var " +
"index = top.layer.alert(\'操作成功！\', {\r\n                            icon: 6,\r\n      " +
"                      closeBtn: 0,\r\n                            yes: function ()" +
" {\r\n                                table2.ajax.reload();\r\n                     " +
"           parent[pageIndex()].reloadParCategory();\r\n                           " +
"     top.layer.close(index);\r\n                            }\r\n                   " +
"     });\r\n                    } else {\r\n                        top.layer.alert(" +
"\'操作失败！\', { icon: 5 });\r\n                    }\r\n                },\r\n             " +
"   error: function (data) { top.layer.alert(\'操作失败！\', { icon: 5 }); }\r\n          " +
"  })\r\n        });\r\n    }\r\n\r\n    /*下架*/\r\n    function category_shelves(action, id" +
") {\r\n        top.layer.confirm(\'确认要下架吗？\', function (e) {\r\n            $.ajax({\r\n" +
"                url: action,\r\n                type: \"post\",\r\n                dat" +
"a: { id: id },\r\n                success: function (data) {\r\n                    " +
"if (data.isSuccess) {\r\n                        var index = top.layer.alert(\'操作成功" +
"！\', {\r\n                            icon: 6,\r\n                            closeBt" +
"n: 0,\r\n                            yes: function () {\r\n                         " +
"       table2.ajax.reload();\r\n                                parent[pageIndex()" +
"].reloadParCategory();\r\n                                top.layer.close(index);\r" +
"\n                            }\r\n                        });\r\n                   " +
" } else {\r\n                        top.layer.alert(\'操作失败！\', { icon: 5 });\r\n     " +
"               }\r\n                },\r\n                error: function (data) { t" +
"op.layer.alert(\'操作失败！\', { icon: 5 }); }\r\n            })\r\n        });\r\n    }\r\n\r\n<" +
"/script>\r\n");

        }
    }
}
#pragma warning restore 1591
